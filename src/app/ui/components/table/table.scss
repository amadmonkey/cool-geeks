@import "../../../variables.scss";

.cg-table {
	width: 100%;
	position: relative;
	border-radius: 15px;
	border-collapse: collapse;
	table {
		width: inherit;
		font-size: 12px;
		tr:not(.loading) {
			padding: 10px;
			border-radius: 10px;
			align-items: center;
			background-color: #fff;
			box-shadow: -3px 3px 0 #96969640;
			&.border {
				border: 1px solid lighten($dark, 50%);
			}
			&.accounts {
				grid-template-columns: 20% 30% 10% 10% 10% 10% 10%;
			}
			&.receipts {
				grid-template-columns: 20% 10% 10% 15% 15% 10% 10% 10%;
			}
			&.plans {
				cursor: pointer;
				grid-template-columns: 30% 20% 50%;
				&.create {
					grid-template-columns: 30% 20% 40% 10%;
					input {
						text-align: center;
					}
				}
				.actions {
					position: absolute;
					right: -30px;
					display: none;
					top: 0;
					> button {
						height: 55px;
						width: 40px;
						box-shadow: none;
						border-radius: 10px;
					}
				}
				&:hover {
					.actions {
						display: block;
					}
				}
			}
		}
		thead {
			position: relative;
			th {
				height: 20px;
				color: #a8a8a8;
				font-weight: 800;
			}
			tr {
				display: grid;
				background-color: #f3f3f3 !important;
				grid-template-columns: 20% 10% 10% 15% 15% 10% 10% 10%;
			}
			margin-bottom: 20px;
		}
		tbody {
			gap: 10px;
			display: flex;
			padding-top: 10px;
			font-size: 14px;
			flex-direction: column;
			tr {
				right: 0px;
				position: relative;
				display: grid;
				text-align: center;
				align-items: center;
				transition: 0.1s ease-in-out;
				grid-template-columns: 20% 10% 10% 15% 15% 10% 10% 10%;
				td {
					font-weight: 600;
					color: $dark;
					text-align: center;
				}
				&:not(.loading):not(.row-failed):not(.error):hover {
					background-color: #f5f5f5;
				}
				&.row-failed {
					grid-template-columns: 20% 10% 10% 40% 20%;
					background-color: $danger-light;
					border: 1px solid lighten($danger, 23%);
					td {
						color: $danger !important;
					}
				}
			}
			.loading {
				display: flex;
				height: 500px;
				justify-content: center;
			}
			.button__action {
				position: relative;
				transition: 0.2s ease-in-out;
				bottom: 0;
				> svg {
					height: 30px;
				}
				&[name="deny"] {
					&::before {
						content: "deny";
					}
				}
				&[name="accept"] {
					&::before {
						content: "accept";
					}
				}
				&[name="add"] {
					&::before {
						content: "add";
					}
				}
				&[name="remove"] {
					&::before {
						content: "remove";
					}
				}
				&::before {
					content: "";
					display: none;
					position: absolute;
					height: 25px;
					width: auto;
					background-color: #fff;
					padding: 4px 5px;
					box-sizing: border-box;
					box-shadow: -3px 3px 0 #77777740;
					border-radius: 4px;
					left: 50%;
					transform: translateX(-50%);
					top: -30px;
					font-weight: 600;
					color: $dark;
				}
				&:hover {
					&::before {
						display: block;
					}
				}
			}
		}
	}
	&.plans {
		tbody {
			max-height: 280px;
			min-height: 280px;
			overflow: auto;
			padding: 5px;
			td {
				input {
					text-align: center;
				}
			}
		}
	}
	&.loading {
		&::after {
			content: "";
			left: -2px;
			width: 100%;
			height: 50%;
			bottom: -2px;
			position: absolute;
			background-color: black;
			background: rgb(2, 0, 36);
			background: linear-gradient(0deg, $bg, $bg 35%, transparent 100%);
		}
	}
}
